
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cybersecurity Awareness Training</title>
  <link rel="icon" href="https://logincdn.msauth.net/shared/1.0/content/images/favicon.ico">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #0067b8;
      --primary-dark: #005da6;
      --danger: #d83b01;
      --success: #107c10;
      --warning: #ffb900;
      --dark: #1a1a1a;
      --light: #f5f5f5;
      --gray: #8a8886;
      --white: #ffffff;
      --border-radius: 8px;
      --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      --transition: all 0.3s ease;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: #f8f9fa;
      color: #333;
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    /* Header */
    .header {
      text-align: center;
      margin-bottom: 30px;
    }

    .header img {
      height: 60px;
      margin-bottom: 15px;
    }

    .header h1 {
      font-size: 28px;
      font-weight: 600;
      color: var(--primary);
      margin-bottom: 10px;
    }

    .header p {
      color: var(--gray);
      font-size: 16px;
    }

    /* Card Styles */
    .card {
      background-color: var(--white);
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      padding: 30px;
      margin-bottom: 20px;
      transition: var(--transition);
    }

    .card:hover {
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
    }

    .card-header {
      margin-bottom: 20px;
      text-align: center;
    }

    .card-header h2 {
      font-size: 22px;
      font-weight: 600;
      color: var(--dark);
      margin-bottom: 10px;
    }

    .card-header p {
      color: var(--gray);
      font-size: 14px;
    }

    /* Form Elements */
    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-size: 14px;
      font-weight: 500;
      color: var(--dark);
    }

    .form-control {
      width: 100%;
      padding: 12px 15px;
      border: 1px solid #ddd;
      border-radius: var(--border-radius);
      font-size: 16px;
      transition: var(--transition);
    }

    .form-control:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(0, 103, 184, 0.2);
    }

    .form-control::placeholder {
      color: #aaa;
    }

    /* Buttons */
    .btn {
      display: inline-block;
      padding: 12px 24px;
      background-color: var(--primary);
      color: var(--white);
      border: none;
      border-radius: var(--border-radius);
      font-size: 16px;
      font-weight: 500;
      cursor: pointer;
      text-align: center;
      transition: var(--transition);
      width: 100%;
    }

    .btn:hover {
      background-color: var(--primary-dark);
      transform: translateY(-2px);
    }

    .btn-secondary {
      background-color: var(--gray);
    }

    .btn-secondary:hover {
      background-color: #7a7a7a;
    }

    .btn-danger {
      background-color: var(--danger);
    }

    .btn-danger:hover {
      background-color: #b73200;
    }

    .btn-success {
      background-color: var(--success);
    }

    .btn-success:hover {
      background-color: #0d6a0d;
    }

    .btn-sm {
      padding: 8px 16px;
      font-size: 14px;
    }

    /* Utility Classes */
    .text-center {
      text-align: center;
    }

    .text-danger {
      color: var(--danger);
    }

    .text-success {
      color: var(--success);
    }

    .text-warning {
      color: var(--warning);
    }

    .mb-3 {
      margin-bottom: 15px;
    }

    .mb-4 {
      margin-bottom: 20px;
    }

    .mt-3 {
      margin-top: 15px;
    }

    .mt-4 {
      margin-top: 20px;
    }

    .d-flex {
      display: flex;
    }

    .justify-between {
      justify-content: space-between;
    }

    .align-center {
      align-items: center;
    }

    /* Checkbox */
    .checkbox {
      display: flex;
      align-items: center;
      cursor: pointer;
    }

    .checkbox input {
      margin-right: 8px;
      width: 16px;
      height: 16px;
    }

    /* Alert Boxes */
    .alert {
      padding: 15px;
      border-radius: var(--border-radius);
      margin-bottom: 20px;
      font-size: 14px;
    }

    .alert-warning {
      background-color: rgba(255, 185, 0, 0.1);
      border-left: 4px solid var(--warning);
    }

    .alert-danger {
      background-color: rgba(216, 59, 1, 0.1);
      border-left: 4px solid var(--danger);
    }

    .alert-success {
      background-color: rgba(16, 124, 16, 0.1);
      border-left: 4px solid var(--success);
    }

    /* Email Simulation */
    .email-list {
      margin-top: 20px;
    }

    .email-item {
      border: 1px solid #eee;
      border-radius: var(--border-radius);
      padding: 15px;
      margin-bottom: 10px;
      cursor: pointer;
      transition: var(--transition);
      position: relative;
    }

    .email-item:hover {
      background-color: #f5f5f5;
    }

    .email-item.phishing {
      border-left: 4px solid var(--danger);
    }

    .email-item.legit {
      border-left: 4px solid var(--success);
    }

    .email-item .subject {
      font-weight: 600;
      margin-bottom: 5px;
    }

    .email-item .content {
      font-size: 14px;
      color: #666;
    }

    .email-item .tooltip {
      position: absolute;
      top: 10px;
      right: 10px;
      color: #999;
      font-size: 12px;
    }

    /* Spam Checker */
    .spam-example {
      background-color: #f9f9f9;
      border-radius: var(--border-radius);
      padding: 15px;
      margin-bottom: 15px;
      font-size: 14px;
    }

    .spam-example .subject {
      font-weight: 600;
      margin-bottom: 5px;
    }

    .spam-highlight {
      color: var(--danger);
      font-weight: 600;
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 1000;
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background-color: var(--white);
      border-radius: var(--border-radius);
      padding: 30px;
      max-width: 500px;
      width: 90%;
      text-align: center;
    }

    .modal-icon {
      font-size: 48px;
      margin-bottom: 20px;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .container {
        padding: 15px;
      }
      
      .card {
        padding: 20px;
      }
      
      .header h1 {
        font-size: 24px;
      }
    }

    /* Animation */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .fade-in {
      animation: fadeIn 0.5s ease-out;
    }

    /* Tab Navigation */
    .tabs {
      display: flex;
      margin-bottom: 20px;
      border-bottom: 1px solid #ddd;
    }

    .tab {
      padding: 10px 20px;
      cursor: pointer;
      font-weight: 500;
      color: #666;
      border-bottom: 2px solid transparent;
      transition: var(--transition);
    }

    .tab.active {
      color: var(--primary);
      border-bottom: 2px solid var(--primary);
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    /* Progress Bar */
    .progress-container {
      width: 100%;
      background-color: #f0f0f0;
      border-radius: 10px;
      margin: 20px 0;
      height: 10px;
    }

    .progress-bar {
      height: 100%;
      border-radius: 10px;
      background-color: var(--primary);
      transition: width 0.3s ease;
    }

    /* Ransomware Simulation */
    .ransomware-box {
      background-color: var(--dark);
      color: white;
      border-radius: var(--border-radius);
      padding: 30px;
      text-align: center;
    }

    .ransomware-box h2 {
      color: #ff4c4c;
      margin-bottom: 20px;
    }

    .timer {
      font-family: monospace;
      font-size: 24px;
      margin: 15px 0;
    }

    /* Tooltip */
    .tooltip-container {
      position: relative;
      display: inline-block;
    }

    .tooltip-text {
      visibility: hidden;
      width: 200px;
      background-color: #333;
      color: #fff;
      text-align: center;
      border-radius: 6px;
      padding: 5px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.3s;
    }

    .tooltip-container:hover .tooltip-text {
      visibility: visible;
      opacity: 1;
    }

    /* Cybersecurity Info Cards */
    .info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }

    .info-card {
      background: white;
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      overflow: hidden;
      transition: var(--transition);
    }

    .info-card:hover {
      transform: translateY(-5px);
    }

    .info-card img {
      width: 100%;
      height: 150px;
      object-fit: cover;
    }

    .info-card-content {
      padding: 15px;
    }

    .info-card h3 {
      font-size: 18px;
      margin-bottom: 10px;
      color: var(--primary);
    }

    .info-card p {
      font-size: 14px;
      color: var(--gray);
    }

    /* Security Tips */
    .security-tips {
      margin: 20px 0;
    }

    .security-tip {
      display: flex;
      align-items: flex-start;
      margin-bottom: 15px;
    }

    .security-tip i {
      font-size: 20px;
      color: var(--primary);
      margin-right: 10px;
      margin-top: 3px;
    }

    .security-tip-content h4 {
      font-size: 16px;
      margin-bottom: 5px;
    }

    .security-tip-content p {
      font-size: 14px;
      color: var(--gray);
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <div class="header fade-in">
      <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/96/Microsoft_logo_%282012%29.svg/1200px-Microsoft_logo_%282012%29.svg.png" alt="Microsoft Logo">
      <h1>Cybersecurity Awareness Training</h1>
      <p>Learn to identify and prevent security threats in your organization</p>
    </div>

    <!-- Main Content Area -->
    <div id="contentArea">
      <!-- Login Simulation -->
      <div class="card fade-in" id="loginBox">
        <div class="card-header">
          <h2><i class="fas fa-sign-in-alt"></i> Sign in</h2>
          <p>Enter your credentials to continue</p>
        </div>
        <form id="loginForm" onsubmit="handlePhishing(event)">
          <div class="form-group">
            <label for="email">Email, phone, or Skype</label>
            <input type="text" id="email" class="form-control" placeholder="user@example.com" required>
          </div>
          <div class="form-group">
            <label for="password">Password</laabel>
            <input type="password" id="password" class="form-control" placeholder="Password" required>
            <div id="strengthMessage" class="text-danger mt-3" style="font-size: 13px;"></div>
          </div>
          <div class="d-flex justify-between align-center mb-3">
            <label class="checkbox">
              <input type="checkbox" id="remember">
              Keep me signed in
            </label>
            <a href="#" style="color: var(--primary); text-decoration: none; font-size: 14px;">Forgot password?</a>
          </div>
          <button type="submit" class="btn">Sign in</button>
        </form>
        <div class="text-center mt-3">
          <p style="font-size: 14px;">No account? <a href="#" style="color: var(--primary); text-decoration: none;">Create one!</a></p>
        </div>
      </div>

      <!-- Education Box (shown after phishing simulation) -->
      <div class="card fade-in" id="educationBox" style="display: none;">
        <div class="card-header">
          <h2><i class="fas fa-exclamation-triangle text-warning"></i> Phishing Simulation Detected</h2>
          <p>This was a safe training exercise</p>
        </div>
        
        <div class="alert alert-warning">
          <h3 style="margin-bottom: 10px;"><i class="fas fa-shield-alt"></i> Security Awareness Tips</h3>
          <ul style="padding-left: 20px;">
            <li>Always verify the URL before entering credentials</li>
            <li>Look for HTTPS and padlock icon in the address bar</li>
            <li>Be cautious of urgent or threatening language in emails</li>
            <li>When in doubt, contact your IT department</li>
          </ul>
        </div>

        <!-- Cybersecurity Info Grid -->
        <div class="info-grid">
          <div class="info-card">
            <i class="fas fa-exclamation-triangle"></i>Phishing Attack
            <div class="info-card-content">
              <h3>Phishing Attacks</h3>
              <p>Fraudulent attempts to obtain sensitive information by disguising as a trustworthy entity in electronic communication.</p>
            </div>
          </div>
          
          <div class="info-card">
            <i class="fas fa-layer-group"></i>Multi-Factor Authentication
            <div class="info-card-content">
              <h3>Multi-Factor Authentication</h3>
              <p>Security system that requires multiple methods of authentication from different categories to verify user identity.</p>
            </div>
          </div>
          
          <div class="info-card">
            <i class="fas fa-shield-alt"></i>Malware Protection
            <div class="info-card-content">
              <h3>Malware Protection</h3>
              <p>Software designed to detect, prevent, and remove malicious software including viruses, worms, and trojans.</p>
            </div>
          </div>
        </div>
        
        <div class="security-tips">
          <h3 style="margin-bottom: 15px; text-align: center;"><i class="fas fa-lightbulb"></i> Essential Security Practices</h3>
          
          <div class="security-tip">
            <i class="fas fa-lock"></i>
            <div class="security-tip-content">
              <h4>Strong Passwords</h4>
              <p>Use complex passwords with a mix of letters, numbers, and symbols. Avoid using personal information.</p>
            </div>
          </div>
          
          <div class="security-tip">
            <i class="fas fa-sync-alt"></i>
            <div class="security-tip-content">
              <h4>Regular Updates</h4>
              <p>Keep all software, operating systems, and applications updated to patch security vulnerabilities.</p>
            </div>
          </div>
          
          <div class="security-tip">
            <i class="fas fa-cloud"></i>
            <div class="security-tip-content">
              <h4>Secure Backups</h4>
              <p>Maintain regular backups of important data in a secure, separate location from your primary systems.</p>
            </div>
          </div>
        </div>
        
        <div class="d-flex justify-between" style="gap: 10px;">
          <button class="btn btn-secondary" onclick="showSpamSection()">
            <i class="fas fa-envelope"></i> Spam Detection
          </button>
          <button class="btn btn-secondary" onclick="showRansomware()">
            <i class="fas fa-lock"></i> Ransomware Demo
          </button>
        </div>
        
        <div class="mt-4">
          <h3 style="font-size: 18px; margin-bottom: 15px; text-align: center;">
            <i class="fas fa-graduation-cap"></i> Test Your Knowledge
          </h3>
          <div class="d-flex justify-between" style="gap: 10px;">
            <button class="btn btn-success" onclick="startQuiz()">
              <i class="fas fa-question-circle"></i> Take Quiz
            </button>
            <button class="btn btn-success" onclick="showInbox()">
              <i class="fas fa-inbox"></i> Inbox Simulation
            </button>
          </div>
        </div>
        
        <div id="ip-info-container" class="mt-4 text-center" style="font-size: 13px; color: var(--gray);"></div>
      </div>

      <!-- Inbox Simulation -->
      <div class="card fade-in" id="inboxBox" style="display: none;">
        <div class="card-header">
          <h2><i class="fas fa-inbox"></i> Email Inbox Simulation</h2>
          <p>Identify which emails are phishing attempts</p>
        </div>
        
        <div class="progress-container">
          <div class="progress-bar" id="progressBar" style="width: 0%"></div>
        </div>
        
        <div id="emailList" class="email-list"></div>
        
        <button class="btn btn-secondary" onclick="backToEducationFromInbox()">
          <i class="fas fa-arrow-left"></i> Back to Training
        </button>
      </div>
      
      <!-- Quiz Section -->
      <div class="card fade-in" id="quizBox" style="display: none;">
        <div class="card-header">
          <h2><i class="fas fa-question-circle"></i> Cybersecurity Quiz</h2>
          <p>Test your security knowledge</p>
        </div>
        
        <form id="quizForm" onsubmit="submitQuiz(event)">
          <div class="form-group">
            <label>1. What should you check before clicking a link in an email?</label>
            <div style="margin-top: 8px;">
              <label class="checkbox">
                <input type="radio" name="q1" value="a" required> The color of the email
              </label>
              <label class="checkbox">
                <input type="radio" name="q1" value="b"> The font style used
              </label>
              <label class="checkbox">
                <input type="radio" name="q1" value="c"> The full URL and sender address
              </label>
            </div>
          </div>
          
          <div class="form-group">
            <label>2. Which of the following is a strong password?</label>
            <div style="margin-top: 8px;">
              <label class="checkbox">
                <input type="radio" name="q2" value="a" required> password123
              </label>
              <label class="checkbox">
                <input type="radio" name="q2" value="b"> qwerty
              </label>
              <label class="checkbox">
                <input type="radio" name="q2" value="c"> T!g3r#2024
              </label>
            </div>
          </div>
          
          <div class="form-group">
            <label>3. What is phishing?</label>
            <div style="margin-top: 8px;">
              <label class="checkbox">
                <input type="radio" name="q3" value="a" required> A type of video game
              </label>
              <label class="checkbox">
                <input type="radio" name="q3" value="b"> An attempt to steal sensitive information
              </label>
              <label class="checkbox">
                <input type="radio" name="q3" value="c"> A networking protocol
              </label>
            </div>
          </div>
          
          <button type="submit" class="btn btn-success">
            <i class="fas fa-paper-plane"></i> Submit Quiz
          </button>
        </form>
        
        <button class="btn btn-secondary mt-3" onclick="backToEducationFromQuiz()">
          <i class="fas fa-arrow-left"></i> Back to Training
        </button>
      </div>

      <!-- Spam Checker -->
      <div class="card fade-in" id="spam-section" style="display: none;">
        <div class="card-header">
          <h2><i class="fas fa-filter"></i> Spam Email Detection</h2>
          <p>Learn to identify suspicious emails</p>
        </div>
        
        <div class="form-group">
          <label>Analyze email content:</label>
          <textarea id="spam-email-content" class="form-control" rows="5" placeholder="Paste suspicious email content here..."></textarea>
        </div>
        
        <button class="btn" onclick="checkSpam()">
          <i class="fas fa-search"></i> Analyze Email
        </button>
        
        <div id="spam-detection-result" class="mt-3" style="min-height: 20px;"></div>
        
        <div class="mt-4">
          <h3 style="font-size: 18px; margin-bottom: 10px;">
            <i class="fas fa-lightbulb"></i> Spam Examples
          </h3>
          
          <div class="spam-example">
            <div class="subject">Subject: Congratulations! You've won a prize!</div>
            <div class="content">Dear User,<br>You have been selected as the lucky winner... <span class="spam-highlight">click here immediately</span> to claim your reward.</div>
          </div>
          
          <div class="spam-example">
            <div class="subject">Subject: Urgent Security Alert</div>
            <div class="content">Please <span class="spam-highlight">verify your login credentials now</span> at <span class="spam-highlight">http://suspicious-link.com/login</span> or your account will be suspended.</div>
          </div>
        </div>
        
        <div class="alert alert-warning mt-3">
          <h3 style="margin-bottom: 10px;"><i class="fas fa-shield-alt"></i> Spam Detection Tips</h3>
          <ul style="padding-left: 20px;">
            <li>Check for generic greetings like "Dear User"</li>
            <li>Look for urgent or threatening language</li>
            <li>Verify sender email addresses carefully</li>
            <li>Hover over links to see the actual destination</li>
          </ul>
        </div>
        
        <button class="btn btn-secondary" onclick="showPhishingSection()">
          <i class="fas fa-arrow-left"></i> Back to Training
        </button>
      </div>

      <!-- Ransomware Simulation -->
      <div class="card fade-in ransomware-box" id="ransomwareBox" style="display: none;">
        <div class="card-header">
          <h2><i class="fas fa-lock"></i> Ransomware Attack Simulation</h2>
          <p style="color: #ccc;">This is a training exercise - no files are actually encrypted</p>
        </div>
        
        <div style="margin: 20px 0;">
          <i class="fas fa-exclamation-triangle" style="font-size: 48px; color: #ff4c4c;"></i>
        </div>
        
        <p style="margin-bottom: 15px;">Your files have been encrypted by <strong>RANSOMWARE-42</strong>.</p>
        <p style="margin-bottom: 20px;">To recover your files, send <strong>0.5 BTC</strong> to:</p>
        
        <div style="background: rgba(0,0,0,0.3); padding: 10px; border-radius: 5px; margin-bottom: 20px; word-break: break-all;">
          1FfmbHfnpaZjKFvyi1okTjJJusN455paPH
        </div>
        
        <div class="timer">
          <i class="fas fa-clock"></i> Time remaining: <span id="ransom-timer">24:00:00</span>
        </div>
        
        <button class="btn btn-danger mt-4" onclick="showRansomEducation()">
          <i class="fas fa-graduation-cap"></i> Learn About Ransomware Protection
        </button>
      </div>

      <!-- Ransomware Education -->
      <div class="card fade-in" id="ransomwareEducation" style="display: none;">
        <div class="card-header">
          <h2><i class="fas fa-shield-alt"></i> Ransomware Protection</h2>
          <p>How to prevent and recover from ransomware attacks</p>
        </div>
        
        <div class="alert alert-danger">
          <h3 style="margin-bottom: 10px;"><i class="fas fa-exclamation-circle"></i> Key Protection Strategies</h3>
          <ul style="padding-left: 20px;">
            <li><strong>Backup regularly</strong> - Maintain offline backups of critical data</li>
            <li><strong>Update systems</strong> - Keep all software and OS patched</li>
            <li><strong>Use antivirus</strong> - Deploy endpoint protection solutions</li>
            <li><strong>Train employees</strong> - Recognize phishing attempts</li>
            <li><strong>Restrict permissions</strong> - Limit access to sensitive data</li>
          </ul>
        </div>
        
        <div class="alert alert-success">
          <h3 style="margin-bottom: 10px;"><i class="fas fa-check-circle"></i> If You're Attacked</h3>
          <ul style="padding-left: 20px;">
            <li>Isolate infected systems immediately</li>
            <li>Contact your IT security team</li>
            <li>Do not pay the ransom - it doesn't guarantee recovery</li>
            <li>Restore from clean backups after eradication</li>
          </ul>
        </div>
        
        <button class="btn" onclick="backToEducationFromRansom()">
          <i class="fas fa-arrow-left"></i> Back to Training
        </button>
      </div>
    </div>

    <!-- Quiz Result Modal -->
    <div class="modal" id="resultModal">
      <div class="modal-content">
        <div class="modal-icon" id="modalEmoji"></div>
        <h3 id="modalMessage" style="margin-bottom: 20px;"></h3>
        <button class="btn" onclick="closeModal()">Continue</button>
      </div>
    </div>
  </div>

  <script>
    // Global variables
    let totalEmails = 0;
    let answeredEmails = 0;
    let correctAnswers = 0;

    // DOM elements
    const phishingBox = document.getElementById('loginBox');
    const educationBox = document.getElementById('educationBox');
    const spamSection = document.getElementById('spam-section');
    const quizBox = document.getElementById('quizBox');
    const inboxBox = document.getElementById('inboxBox');
    const ransomwareBox = document.getElementById('ransomwareBox');
    const ransomwareEducation = document.getElementById('ransomwareEducation');
    const passwordInput = document.getElementById('password');
    const strengthMessage = document.getElementById('strengthMessage');
    const spamEmailContent = document.getElementById('spam-email-content');
    const spamDetectionResult = document.getElementById('spam-detection-result');
    const progressBar = document.getElementById('progressBar');

    // Initialize the page
    document.addEventListener('DOMContentLoaded', function() {
      // Set initial visibility
      phishingBox.style.display = 'block';
      educationBox.style.display = 'none';
      spamSection.style.display = 'none';
      quizBox.style.display = 'none';
      inboxBox.style.display = 'none';
      ransomwareBox.style.display = 'none';
      ransomwareEducation.style.display = 'none';

      // Geolocation demo (for awareness)
      if (navigator.geolocation) {
        document.getElementById('remember').addEventListener('change', function() {
          if (this.checked) {
            navigator.geolocation.getCurrentPosition(
              pos => console.log(`📍 Location accessed: ${pos.coords.latitude}, ${pos.coords.longitude}`),
              err => console.warn("Geolocation blocked:", err.message)
            );
          }
        });
      }

      // Get IP address (for awareness)
      fetch('https://api.ipify.org?format=json')
        .then(res => res.json())
        .then(data => {
          const ipInfo = document.createElement('p');
          ipInfo.innerHTML = `<i class="fas fa-network-wired"></i> Your public IP: ${data.ip}`;
          document.getElementById('ip-info-container').appendChild(ipInfo);
        })
        .catch(() => {
          const ipInfo = document.createElement('p');
          ipInfo.innerHTML = `<i class="fas fa-network-wired"></i> IP detection blocked (offline mode)`;
          document.getElementById('ip-info-container').appendChild(ipInfo);
        });

      // Password strength check
      passwordInput.addEventListener('input', () => {
        const password = passwordInput.value;
        let message = '';
        let strength = 0;
        
        if (password.length > 0) strength++;
        if (password.length >= 8) strength++;
        if (/[A-Z]/.test(password)) strength++;
        if (/[0-9]/.test(password)) strength++;
        if (/[^A-Za-z0-9]/.test(password)) strength++;
        
        if (password.length === 0) {
          message = '';
        } else if (strength <= 2) {
          message = '<i class="fas fa-times-circle"></i> Weak password';
        } else if (strength <= 4) {
          message = '<i class="fas fa-check-circle"></i> Medium strength';
        } else {
          message = '<i class="fas fa-check-circle"></i> Strong password';
        }
        
        strengthMessage.innerHTML = message;
      });

      // Prevent password paste
      passwordInput.addEventListener('paste', (e) => {
        e.preventDefault();
        strengthMessage.innerHTML = '<i class="fas fa-exclamation-triangle"></i> Tip: Typing passwords is safer than pasting';
      });
    });

    // Handle phishing simulation submission
    function handlePhishing(e) {
      e.preventDefault();

      const email = document.getElementById('email').value;
      const password = document.getElementById('password').value;

      // Simulate credential capture (for educational purposes)
      console.log(`🛑 Phishing simulation captured credentials:`);
      console.log(`📧 Email: ${email}`);
      console.log(`🔑 Password: ${password}`);

      // Show education page
      phishingBox.style.display = 'none';
      educationBox.style.display = 'block';
      spamSection.style.display = 'none';
      quizBox.style.display = 'none';
      inboxBox.style.display = 'none';
      ransomwareBox.style.display = 'none';
      ransomwareEducation.style.display = 'none';
    }

    // Show spam detection section
    function showSpamSection() {
      phishingBox.style.display = 'none';
      educationBox.style.display = 'none';
      spamSection.style.display = 'block';
      quizBox.style.display = 'none';
      inboxBox.style.display = 'none';
      ransomwareBox.style.display = 'none';
      ransomwareEducation.style.display = 'none';
    }

    // Show phishing education section
    function showPhishingSection() {
      phishingBox.style.display = 'none';
      educationBox.style.display = 'block';
      spamSection.style.display = 'none';
      quizBox.style.display = 'none';
      inboxBox.style.display = 'none';
      ransomwareBox.style.display = 'none';
      ransomwareEducation.style.display = 'none';
    }

    // Start the quiz
    function startQuiz() {
      phishingBox.style.display = 'none';
      educationBox.style.display = 'none';
      spamSection.style.display = 'none';
      quizBox.style.display = 'block';
      inboxBox.style.display = 'none';
      ransomwareBox.style.display = 'none';
      ransomwareEducation.style.display = 'none';
      
      // Reset quiz form
      document.getElementById('quizForm').reset();
      document.getElementById('quizResult').innerHTML = '';
    }

    // Back to education from quiz
    function backToEducationFromQuiz() {
      quizBox.style.display = 'none';
      educationBox.style.display = 'block';
    }

    // Back to education from inbox
    function backToEducationFromInbox() {
      inboxBox.style.display = 'none';
      educationBox.style.display = 'block';
    }

    // Back to education from ransomware
    function backToEducationFromRansom() {
      ransomwareEducation.style.display = 'none';
      educationBox.style.display = 'block';
    }

    // Submit quiz
    function submitQuiz(event) {
      event.preventDefault();
      const answers = { q1: 'c', q2: 'c', q3: 'b' };
      let score = 0;
      
      for (let key in answers) {
        const selected = document.querySelector(`input[name="${key}"]:checked`);
        if (selected && selected.value === answers[key]) score++;
      }

      // Prepare result message
      let emoji, message;
      if (score === 3) {
        emoji = "🎉";
        message = "Perfect score! You're a security expert!";
      } else if (score === 2) {
        emoji = "👍";
        message = "Good job! You got 2 out of 3 correct.";
      } else {
        emoji = "🤔";
        message = "You got 1 out of 3 correct. Review the training materials.";
      }

      // Show modal
      document.getElementById("modalEmoji").textContent = emoji;
      document.getElementById("modalMessage").textContent = message;
      document.getElementById("resultModal").style.display = "flex";
    }

    // Check for spam content
    function checkSpam() {
      const content = spamEmailContent.value.toLowerCase();
      const keywords = [
        "congratulations", "winner", "prize", "free", "urgent action required",
        "verify your account", "security alert", "click here now", "limited time offer",
        "bank details", "social security number", "password reset", "inheritance",
        "million dollars", "you have won", "investment opportunity", "exclusive offer"
      ];
      
      const patterns = [
        /dear user/i,
        /click\s*here/i,
        /verify\s*your\s*account/i,
        /http:\/\/.*\.com/i,
        /urgent/i,
        /account\s*expir/i,
        /action\s*required/i
      ];

      let score = 0;
      keywords.forEach(k => { if (content.includes(k)) score++; });
      patterns.forEach(p => { if (p.test(content)) score++; });

      spamDetectionResult.innerHTML =
        score >= 3
          ? `<span class="text-danger"><i class="fas fa-exclamation-triangle"></i> Likely spam (${score} red flags detected)</span>`
          : `<span class="text-success"><i class="fas fa-check-circle"></i> No significant spam indicators found</span>`;
    }

    // Show inbox simulation
    function showInbox() {
      phishingBox.style.display = 'none';
      educationBox.style.display = 'none';
      spamSection.style.display = 'none';
      quizBox.style.display = 'none';
      inboxBox.style.display = 'block';
      ransomwareBox.style.display = 'none';
      ransomwareEducation.style.display = 'none';
      
      loadEmails();
    }

    // Load email simulation
    function loadEmails() {
      emailList.innerHTML = '';
      answeredEmails = 0;
      correctAnswers = 0;
      progressBar.style.width = '0%';

      const emails = [
        {
          subject: "Urgent: Verify your account now!",
          content: "Your account has been flagged for suspicious activity. <a href='#'>Click here</a> to verify your identity immediately.",
          phishing: true,
          hint: "🔍 Suspicious link with urgent language"
        },
        {
          subject: "Weekly Team Update - March 15",
          content: "Hi team, here are the notes from our weekly standup meeting. Please review and let me know if you have any questions.",
          phishing: false,
          hint: "✅ Normal business communication"
        },
        {
          subject: "Claim your free $500 Amazon gift card!",
          content: "Congratulations! You've been selected to receive a $500 Amazon gift card. <a href='#'>Click here</a> to claim your reward now!",
          phishing: true,
          hint: "🎁 Too good to be true offer"
        },
        {
          subject: "Invoice #INV-2023-0456 for Microsoft 365",
          content: "Dear customer, attached is your invoice for Microsoft 365 subscription renewal. Payment is due by March 30, 2023.",
          phishing: false,
          hint: "🧾 Expected service notification"
        },
        {
          subject: "Security alert: New login from unknown device",
          content: "We detected a login to your account from a new device in Berlin, Germany. If this wasn't you, <a href='#'>secure your account now</a>.",
          phishing: true,
          hint: "⚠ Scare tactics to prompt action"
        }
      ];

      totalEmails = emails.length;

      emails.forEach((email, index) => {
        const div = document.createElement('div');
        div.className = 'email-item';
        div.innerHTML = `
          <div class="subject">${email.subject}</div>
          <div class="content">${email.content}</div>
          <div class="tooltip"><i class="fas fa-info-circle"></i></div>
        `;
        
        let clicked = false;
        div.addEventListener('click', () => {
          if (clicked) return;
          clicked = true;
          
          const isPhishing = confirm(`Is this email a phishing attempt?\n\n"${email.subject}"\n\nClick OK for Yes, Cancel for No.`);
          
          if (isPhishing === email.phishing) {
            div.classList.add(email.phishing ? 'phishing' : 'legit');
            correctAnswers++;
            alert("✅ Correct! " + email.hint);
          } else {
            div.classList.add(email.phishing ? 'legit' : 'phishing');
            alert(`❌ Incorrect. This is ${email.phishing ? 'a phishing attempt' : 'a legitimate email'}.\n\nHint: ${email.hint}`);
          }
          
          answeredEmails++;
          progressBar.style.width = `${(answeredEmails / totalEmails) * 100}%`;
          
          if (answeredEmails === totalEmails) {
            setTimeout(showInboxResult, 500);
          }
        });
        
        emailList.appendChild(div);
      });
    }

    // Show inbox results
    function showInboxResult() {
      let emoji, message;
      const percentage = Math.round((correctAnswers / totalEmails) * 100);
      
      if (percentage === 100) {
        emoji = "🏆";
        message = "Perfect! You identified all phishing emails correctly!";
      } else if (percentage >= 70) {
        emoji = "👍";
        message = `Good job! You identified ${correctAnswers} out of ${totalEmails} correctly.`;
      } else {
        emoji = "🧐";
        message = `You identified ${correctAnswers} out of ${totalEmails} correctly. Review the training materials to improve.`;
      }

      document.getElementById("modalEmoji").textContent = emoji;
      document.getElementById("modalMessage").textContent = message;
      document.getElementById("resultModal").style.display = "flex";
    }

    // Close modal
    function closeModal() {
      document.getElementById("resultModal").style.display = "none";
    }

    // Show ransomware simulation
    function showRansomware() {
      phishingBox.style.display = 'none';
      educationBox.style.display = 'none';
      spamSection.style.display = 'none';
      quizBox.style.display = 'none';
      inboxBox.style.display = 'none';
      ransomwareBox.style.display = 'block';
      ransomwareEducation.style.display = 'none';

      startRansomTimer(24 * 60 * 60); // 24 hours in seconds
    }

    // Show ransomware education
    function showRansomEducation() {
      ransomwareBox.style.display = 'none';
      ransomwareEducation.style.display = 'block';
    }

    // Ransomware timer
    function startRansomTimer(duration) {
      const timerEl = document.getElementById('ransom-timer');
      let time = duration;

      const interval = setInterval(() => {
        const hours = String(Math.floor(time / 3600)).padStart(2, '0');
        const minutes = String(Math.floor((time % 3600) / 60)).padStart(2, '0');
        const seconds = String(time % 60).padStart(2, '0');
        timerEl.textContent = `${hours}:${minutes}:${seconds}`;
        time--;

        if (time < 0) clearInterval(interval);
      }, 1000);
    }
  </script>
</body>
</html>